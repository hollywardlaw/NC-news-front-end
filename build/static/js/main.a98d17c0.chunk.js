(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{24:function(e,t,a){e.exports=a.p+"static/media/NCNEWS.2cca9a6d.jpg"},28:function(e,t,a){e.exports=a(61)},61:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(23),o=a.n(c),l=a(2),s=a(3),i=a(5),u=a(4),m=a(6),p=(a(7),a(24)),h=a.n(p),d=a(1),f=function(e){return r.a.createElement("header",{className:"header"},r.a.createElement(d.a,{to:"/"},r.a.createElement("img",{className:"nc-news-image",src:h.a,alt:"NC News"})))},b=a(8),E=a.n(b),g=a(11),v=a(9),O=a.n(v),j="https://holly-nc-news.herokuapp.com/api",y=function(e){return O.a.get("".concat(j,"/articles/").concat(e)).catch(function(e){Object(d.c)("/error",{replace:!0})})},C=function(e){return O.a.get("".concat(j,"/articles/").concat(e,"/comments")).catch(function(e){Object(d.c)("/error",{replace:!0})})},k=function(){return O.a.get("".concat(j,"/topics")).catch(function(e){Object(d.c)("/error",{replace:!0})})},S=function(e,t){return O.a.get("".concat(j,"/articles"),{params:{sort_by:t,topic:e}}).catch(function(e){Object(d.c)("/error",{replace:!0})})},N=function(){return O.a.get("".concat(j,"/users")).catch(function(e){Object(d.c)("/error",{replace:!0})})},D=function(e){return O.a.get("".concat(j,"/users/").concat(e)).catch(function(e){Object(d.c)("/error",{replace:!0})})},w=function(){var e=Object(g.a)(E.a.mark(function e(t){var a,n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("".concat(j,"/articles/"),t).catch(function(e){Object(d.c)("/error",{replace:!0})});case 2:return a=e.sent,n=a.data,e.abrupt("return",n.article);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(g.a)(E.a.mark(function e(t){var a,n;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("".concat(j,"/topics"),t).catch(function(e){Object(d.c)("/error",{replace:!0})});case 2:return a=e.sent,n=a.data,e.abrupt("return",n.topic);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(g.a)(E.a.mark(function e(t,a){var n,r;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("".concat(j,"/articles/").concat(a,"/comments"),t).catch(function(e){Object(d.c)("/error",{replace:!0})});case 2:return n=e.sent,r=n.data,e.abrupt("return",r.comment);case 5:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),A=function(){var e=Object(g.a)(E.a.mark(function e(t){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.delete("".concat(j,"/articles/").concat(t)).catch(function(e){Object(d.c)("/error",{replace:!0})});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),U=function(){var e=Object(g.a)(E.a.mark(function e(t,a){var n,r;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.patch("".concat(j,"/articles/").concat(t),{inc_votes:a}).catch(function(e){Object(d.c)("/error",{replace:!0})});case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),x=function(){var e=Object(g.a)(E.a.mark(function e(t,a,n){var r,c;return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.patch("".concat(j,"/articles/").concat(t,"/comments/").concat(a),{inc_votes:n}).catch(function(e){Object(d.c)("/error",{replace:!0})});case 2:return r=e.sent,c=r.data,e.abrupt("return",c);case 5:case"end":return e.stop()}},e)}));return function(t,a,n){return e.apply(this,arguments)}}(),V=function(){var e=Object(g.a)(E.a.mark(function e(t,a){return E.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.delete("".concat(j,"/articles/").concat(t,"/comments/").concat(a)).catch(function(e){Object(d.c)("/error",{replace:!0})});case 2:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}(),L=function(e){return O.a.get("".concat(j,"/articles?author=").concat(e)).catch(function(e){Object(d.c)("/error",{replace:!0})})},I=a(12),M=a(26),P=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={body:"",author:"",triedToPost:!1,posted:!1},a.handleChange=function(e,t){a.setState(Object(I.a)({},e,t))},a.handleSubmit=function(e){if(e.preventDefault(),a.props.user){var t={body:a.state.body,author:a.state.author};T(t,a.props.article_id).then(function(){Object(M.navigate)("/articles/".concat(a.props.article_id))}).then(function(e){a.setState({posted:!0,triedToPost:!1})})}else a.setState({triedToPost:!0});e.target.reset()},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("form",{className:"form",onSubmit:this.handleSubmit},r.a.createElement("h3",null,"Post new comment"),r.a.createElement("br",null),r.a.createElement("textarea",{required:!0,onChange:function(t){return e.handleChange("body",t.target.value)}}),r.a.createElement("br",null),r.a.createElement("button",{type:"submit"},"post comment"),r.a.createElement("br",null),this.state.triedToPost&&r.a.createElement("p",{className:"error-tag"},"Please sign in to post a comment!"),this.state.posted&&r.a.createElement("p",null,"Thank you! Your comment has been posted"))}},{key:"componentDidUpdate",value:function(e,t){this.props.user!==t.author&&this.setState({author:this.props.user})}}]),t}(n.Component),q=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={comments:[],voteChange:0,voteLoading:!1,votingError:!1,triedToDelete:!1,triedToVote:!1},a.getCommentData=function(){C(a.props.article_id).then(function(e){a.setState({comments:e.data})}).catch(function(e){Object(d.c)("/error",{replace:!0})})},a.handleVoteClick=function(e,t){null!==a.props.user?(a.setState({voteLoading:!0,votingError:!1}),x(a.props.article_id,t,e).then(function(){return a.setState(function(t){return{voteChange:t.voteChange+e,voteLoading:!1}})}).catch(function(){a.setState({voteLoading:!1,votingError:!0})})):a.setState({triedToVote:!0})},a.deleteClicked=function(e,t){a.props.user===t?V(a.props.article_id,e).then(function(e){Object(d.c)("/articles/".concat(a.props.article_id))}).catch(function(e){Object(d.c)("/error",{replace:!0})}):a.setState({triedToDelete:!0})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state.comments;return r.a.createElement("div",null,this.props.comment_count>0&&r.a.createElement("button",{onClick:this.getCommentData},"Show Comments"),0!==t.length&&t.map(function(t){return r.a.createElement("div",{className:"comment",key:t.comment_id},r.a.createElement("p",{className:"date"},"Date posted: ",t.created_at.slice(0,10)),r.a.createElement("p",{className:"body-text"},'"',t.body,'"'),r.a.createElement("p",{className:"comment-by"},"by ",t.author),r.a.createElement("button",{onClick:function(){return e.handleVoteClick(1,t.comment_id)},disabled:1===e.state.voteChange||e.state.voteLoading},"Vote up!"),r.a.createElement("p",null,"Votes ",t.votes+e.state.voteChange),r.a.createElement("button",{onClick:function(){return e.handleVoteClick(-1,t.comment_id)},disabled:-1===e.state.voteChange||e.state.voteLoading},"Vote down!"),r.a.createElement("br",null),e.state.triedToVote&&r.a.createElement("p",{className:"error-tag"},"You must be logged in to vote!"),e.props.user&&r.a.createElement("button",{onClick:function(){return e.deleteClicked(t.comment_id,t.author)}},"Delete comment"),e.state.triedToDelete&&r.a.createElement("p",{className:"error-tag"},"You can only delete your own comments!"))}))}}]),t}(n.Component),F=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={article:{},voteChange:0,voteLoading:!1,votingError:!1,triedToDeleteArticle:!1,triedToVote:!1},a.getArticleData=function(){y(a.props.article_id).then(function(e){0!==e.data.articles.length?a.setState({article:e.data.articles[0]}):Object(d.c)("/error",{replace:!0})}).catch(function(e){Object(d.c)("/error",{replace:!0})})},a.deleteClicked=function(){a.props.user===a.state.article.author?A(a.state.article.article_id).then(function(e){Object(d.c)("/articles/")}).catch(function(e){Object(d.c)("/error",{replace:!0})}):a.setState({triedToDeleteArticle:!0})},a.handleVoteClick=function(e){null!==a.props.user?(a.setState({voteLoading:!0,votingError:!1}),U(a.state.article.article_id,e).then(function(){return a.setState(function(t){return{voteChange:t.voteChange+e,voteLoading:!1}})}).catch(function(){a.setState({voteLoading:!1,votingError:!0})})):a.setState({triedToVote:!0})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.article,n=t.voteChange,c=t.voteLoading,o=t.triedToVote;return r.a.createElement("div",{className:"article"},r.a.createElement("h2",null,a&&a.title),r.a.createElement("h4",null,"by ",a.author),r.a.createElement("p",null,"Topic: ",a.topic),r.a.createElement("p",{className:"article-body"},a.body),r.a.createElement("button",{onClick:function(){return e.handleVoteClick(1)},disabled:1===n||c},"Vote up!"),r.a.createElement("span",null,"Votes ",a.votes+n),r.a.createElement("button",{onClick:function(){return e.handleVoteClick(-1)},disabled:-1===n||c},"Vote down!"),c&&r.a.createElement("p",null,"Voting..."),o&&r.a.createElement("p",{className:"error-tag"},"You must be logged in to vote!"),r.a.createElement("p",null,"Comments:",a.comment_count),r.a.createElement(q,{author:a.author,article_id:a.article_id,user:this.props.user,comment_count:a.comment_count}),r.a.createElement(P,{user:this.props.user,article_id:a.article_id}),this.props.user&&r.a.createElement("button",{onClick:this.deleteClicked},"Delete article"),this.state.triedToDeleteArticle&&r.a.createElement("p",{className:"error-tag"},"You can only delete your own articles!"))}},{key:"componentDidMount",value:function(){this.getArticleData()}}]),t}(n.Component),R=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={title:"",body:"",topic:"",author:"",topics:[],triedToPost:!1},a.getAllTopicData=function(){k().then(function(e){a.setState({topics:e.data.topics})}).catch(function(e){Object(d.c)("/error",{replace:!0})})},a.handleChange=function(e,t){a.setState(Object(I.a)({},e,t))},a.handleSubmit=function(e){if(e.preventDefault(),a.props.user){var t=a.state,n=t.title,r=t.body,c=t.author,o=t.topic;w({title:n,body:r,author:c,topic:o}).then(function(e){Object(d.c)("/articles/".concat(e.article_id))}).catch(function(e){Object(d.c)("/error",{replace:!0})})}else a.setState({triedToPost:!0});e.target.reset()},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("form",{className:"form",onSubmit:this.handleSubmit},r.a.createElement("h3",null,"Post new article!"),r.a.createElement("br",null),r.a.createElement("label",null,"Title"),r.a.createElement("br",null),r.a.createElement("input",{required:!0,onChange:function(t){return e.handleChange("title",t.target.value)}}),r.a.createElement("br",null),r.a.createElement("label",null,"Body"),r.a.createElement("br",null),r.a.createElement("textarea",{required:!0,onChange:function(t){return e.handleChange("body",t.target.value)}}),r.a.createElement("br",null),r.a.createElement("label",null,"Topic"),r.a.createElement("br",null),r.a.createElement("select",{onChange:function(t){return e.handleChange("topic",t.target.value)}},this.state.topics.map(function(e){return r.a.createElement("option",{value:e.slug,key:e.slug},e.slug)})),r.a.createElement("br",null),r.a.createElement("button",{type:"submit"},"Submit article"),this.state.triedToPost&&r.a.createElement("p",{className:"error-tag"},"Please sign in to post an article!"))}},{key:"componentDidMount",value:function(){this.getAllTopicData()}},{key:"componentDidUpdate",value:function(e,t){this.props.user!==t.author&&this.setState({author:this.props.user})}}]),t}(n.Component),Y=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={articles:[],sort:null},a.getArticlesData=function(){S(a.props.slug,a.state.sort).then(function(e){a.setState({articles:e.data.articles})}).catch(function(e){Object(d.c)("/error",{replace:!0})})},a.handleChange=function(e){a.setState({sort:e.target.value})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("label",null,"Filter:"),r.a.createElement("select",{onChange:this.handleChange,name:"sort"},r.a.createElement("option",{value:"created_at"},"Most recent"),r.a.createElement("option",{value:"comment_count"},"Most comments"),r.a.createElement("option",{value:"votes"},"Most votes")),r.a.createElement("div",{className:"articles"},this.state.articles.map(function(e){return r.a.createElement("article",{className:"article-summary",key:e.article_id},r.a.createElement("h2",null,e.title),r.a.createElement("h4",null,"by ",e.author),r.a.createElement("p",{className:"date"},"Date posted: ",e.created_at.slice(0,10)),r.a.createElement("p",null,"Topic: ",e.topic),r.a.createElement("p",{className:"body-text"},'"',e.body.slice(0,50),'..."'),r.a.createElement(d.a,{className:"article-link",to:"/articles/".concat(e.article_id)},"Read full article"),r.a.createElement("p",null,"Votes ",e.votes," | Comments ",e.comment_count))})),r.a.createElement(R,{user:this.props.user}))}},{key:"componentDidMount",value:function(){this.getArticlesData()}},{key:"componentDidUpdate",value:function(e,t){this.props.slug===e.slug&&this.state.sort===t.sort||this.getArticlesData()}}]),t}(n.Component),B=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={topics:[],slug:"",description:""},a.getAllTopicData=function(){k().then(function(e){a.setState({topics:e.data.topics})}).catch(function(e){Object(d.c)("/error",{replace:!0})})},a.handleChange=function(e,t){a.setState(Object(I.a)({},e,t))},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.slug,r=t.description;a.state.topics.includes(n)||_({slug:n,description:r}).then(function(){Object(d.c)("/articles/topics/".concat(a.state.slug))}),e.target.reset()},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement("ul",null,this.state.topics.map(function(e){return r.a.createElement("div",{className:"topic-list-item",key:e.slug},r.a.createElement(d.a,{className:"topic-link",key:e.slug,to:"/articles/topics/".concat(e.slug)},e.slug),r.a.createElement("br",null),r.a.createElement("p",null,'"',e.description,'..."'))}),r.a.createElement("form",{className:"form",onSubmit:this.handleSubmit},r.a.createElement("h3",null,"Post new topic!"),r.a.createElement("br",null),r.a.createElement("label",null,"Name"),r.a.createElement("br",null),r.a.createElement("input",{required:!0,onChange:function(t){return e.handleChange("slug",t.target.value)}}),r.a.createElement("br",null),r.a.createElement("label",null,"Description"),r.a.createElement("br",null),r.a.createElement("textarea",{required:!0,onChange:function(t){return e.handleChange("description",t.target.value)}}),r.a.createElement("br",null),r.a.createElement("button",{type:"submit"},"Submit topic"))))}},{key:"componentDidMount",value:function(){this.getAllTopicData()}}]),t}(n.Component),J=a(27),W=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={username:"",allUsers:[],triedToLogIn:!1},a.handleChange=function(e){a.getUserData(),a.setState({username:e.target.value})},a.handleSubmit=function(e){e.preventDefault();var t=a.state.username,n=a.props.setUser;Object(J.a)(a.state.allUsers).reduce(function(e,t){return e.push(t.username),e},[]).includes(t)?n(t):a.setState({triedToLogIn:!0})},a.getUserData=function(){N().then(function(e){a.setState({allUsers:e.data.users})}).catch(function(e){Object(d.c)("/error",{replace:!0})})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("label",null,"Enter your username:"),r.a.createElement("input",{placeholder:"jessjelly",required:!0,onChange:this.handleChange}),this.state.triedToLogIn&&r.a.createElement("p",{className:"error-tag"},"Please enter a valid username!"),r.a.createElement("button",null,"Log in"))}}]),t}(n.Component),H=function(e){return r.a.createElement("div",{className:"login"}," ",r.a.createElement("h1",null,e.user?"Welcome ".concat(e.user,"!"):"Please sign in!"),!e.user&&r.a.createElement(W,{setUser:e.setUser}),e.user&&r.a.createElement("button",{onClick:e.logOut},"Log out"))},z=function(e){return r.a.createElement("div",{className:"error"},r.a.createElement("h1",null,"Oops! Something went wrong :("))},G=function(e){return r.a.createElement("nav",{className:"nav"},r.a.createElement(d.a,{className:"link",to:"/"},"HOME"),r.a.createElement(d.a,{className:"link",to:"/articles"},"ARTICLES"),r.a.createElement(d.a,{className:"link",to:"/topics"},"TOPICS"),r.a.createElement(d.a,{className:"link",to:"/users"},"USERS"),e.user&&r.a.createElement(d.a,{className:"link",to:"/me"},"ME"))},K=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={users:[]},a.getUsersData=function(){N().then(function(e){a.setState({users:e.data.users})}).catch(function(e){Object(d.c)("/error",{replace:!0})})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.state.users.map(function(e){return r.a.createElement("div",{className:"article",key:e.username},r.a.createElement(d.a,{className:"topic-link",to:"/users/".concat(e.username)},r.a.createElement("h3",null,e.name)),r.a.createElement("h1",null,"Username: ",e.username))}))}},{key:"componentDidMount",value:function(){this.getUsersData()}}]),t}(n.Component),Q=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={user:[],articles:[]},a.getUserData=function(){D(a.props.username).then(function(e){a.setState({user:e.data})}).catch(function(e){Object(d.c)("/error",{replace:!0})}),L(a.props.username).then(function(e){a.setState({articles:e.data.articles})})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,0!==this.state.user.length&&r.a.createElement("h1",null,this.state.user[0].name),0!==this.state.articles.length&&r.a.createElement(r.a.Fragment,null,this.state.articles.map(function(e){return r.a.createElement("div",{className:"article",key:e.article_id},r.a.createElement("h2",null,e.title),r.a.createElement("h4",null,"by ",e.author),r.a.createElement("p",null,"Topic: ",e.topic),r.a.createElement("p",{className:"body-text"},e.body))})))}},{key:"componentDidMount",value:function(){this.getUserData()}}]),t}(n.Component),X=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={articles:[],sort:null},a.getArticlesData=function(){S(a.props.slug,a.state.sort).then(function(e){a.setState({articles:e.data.articles})}).catch(function(e){Object(d.c)("/error",{replace:!0})})},a.handleChange=function(e){a.setState({sort:e.target.value})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"RECENT ARTICLES"),r.a.createElement("div",{className:"articles"},this.state.articles.filter(function(e){return e.created_at.slice(0,4)>2018}).map(function(e){return r.a.createElement("article",{className:"article-summary",key:e.article_id},r.a.createElement("h2",null,e.title),r.a.createElement("h4",null,"by ",e.author),r.a.createElement("p",{className:"date"},"Date posted: ",e.created_at.slice(0,10)),r.a.createElement("p",null,"Topic: ",e.topic),r.a.createElement("p",{className:"body-text"},'"',e.body,'"'),r.a.createElement("p",{className:"votes-comments"},"Votes ",e.votes," | Comments ",e.comment_count),r.a.createElement(d.a,{className:"view-article-link",to:"/articles/".concat(e.article_id)},"View article"))})))}},{key:"componentDidMount",value:function(){this.getArticlesData()}},{key:"componentDidUpdate",value:function(e,t){this.props.slug===e.slug&&this.state.sort===t.sort||this.getArticlesData()}}]),t}(n.Component),Z=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={user:null},a.getUserInfo=function(){D(a.props.user).then(function(e){a.setState({user:e.data[0]})}).catch(function(e){Object(d.c)("/error",{replace:!0})})},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return r.a.createElement(r.a.Fragment,null,this.state.user&&r.a.createElement("div",null,r.a.createElement("h1",null,this.state.user.name),r.a.createElement("h2",null,"Username: ",this.state.user.username),r.a.createElement(d.a,{className:"article-link",to:"/users/".concat(this.state.user.username)},"My articles"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("img",{src:this.state.user.avatar_url,alt:"user avatar"})))}},{key:"componentDidMount",value:function(){this.getUserInfo()}}]),t}(n.Component),$=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(i.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={user:null},a.setUser=function(e){a.setState({user:e}),localStorage.setItem("loggedInUser",e)},a.logOut=function(){a.setState({user:null}),localStorage.removeItem("loggedInUser")},a}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.user;return r.a.createElement("div",{className:"App"},r.a.createElement(f,null),r.a.createElement(H,{user:e,setUser:this.setUser,logOut:this.logOut}),r.a.createElement(G,{user:e}),r.a.createElement(d.b,{className:"centre"},r.a.createElement(B,{path:"/topics",user:e}),r.a.createElement(X,{path:"/"}),r.a.createElement(Y,{path:"articles",user:e}),r.a.createElement(Y,{path:"articles/topics/:slug",user:e}),r.a.createElement(F,{path:"articles/:article_id",user:e}),r.a.createElement(P,{path:"articles/:article_id",user:e}),r.a.createElement(K,{path:"/users"}),r.a.createElement(Q,{path:"/users/:username"}),this.state.user&&r.a.createElement(Z,{path:"/me",user:e}),r.a.createElement(z,{path:"/error",default:!0})))}},{key:"componentDidMount",value:function(){var e=localStorage.getItem("loggedInUser");e&&this.setState({user:e})}}]),t}(n.Component);o.a.render(r.a.createElement($,null),document.getElementById("root"))},7:function(e,t,a){}},[[28,1,2]]]);
//# sourceMappingURL=main.a98d17c0.chunk.js.map